<!DOCTYPE html>
<html lang="ru">
<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>Metabase: Ticket Storage</title>
Â  <style>
Â  Â  body {
Â  Â  Â  padding: 20px;
Â  Â  Â  margin: 0;
Â  Â  Â  font-family: Arial, sans-serif;
Â  Â  Â  background: #f4f4f8;
Â  Â  }

Â  Â  /* ===== HEADER ===== */
Â  Â  .custom-header {
Â  Â  Â  max-width: 1260px;
Â  Â  Â  margin: 0 auto;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  background: white;
Â  Â  Â  border-bottom: 1px solid #eee;
Â  Â  Â  padding: 15px 20px;
Â  Â  }

Â  Â  .header-container {
Â  Â  Â  max-width: 1290px;
Â  Â  Â  margin: 0 auto;
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  justify-content: space-between;
Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  gap: 15px;
Â  Â  }
Â  Â  .header-right {
Â  display: flex;
Â  align-items: center;
Â  gap: 10px;
}


Â  Â  .header-left {
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  gap: 10px;
Â  Â  }

Â  Â  .header-left img {
Â  Â  Â  height: 40px;
Â  Â  }

Â  Â  .header-title {
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  line-height: 1.2;
Â  Â  }

Â  Â  .header-title strong {
Â  Â  Â  font-size: 18px;
Â  Â  Â  color: black;
Â  Â  }

Â  Â  .header-title small {
Â  Â  Â  font-size: 12px;
Â  Â  Â  color: gray;
Â  Â  }

Â  Â  .header-tag {
Â  Â  Â  background: #ff3cac;
Â  Â  Â  color: white;
Â  Â  Â  padding: 5px 12px;
Â  Â  Â  border-radius: 20px;
Â  Â  Â  margin-left: 10px;
Â  Â  Â  font-weight: bold;
Â  Â  Â  font-size: 14px;
Â  Â  }

Â  Â  .header-search {
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  gap: 10px;
Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  max-width: 600px;
Â  Â  Â  width: 100%;
Â  Â  Â  justify-content: center;
Â  Â  }

Â  Â  .header-search input[type="text"] {
Â  padding: 10px 15px;
Â  border-radius: 10px;
Â  border: 1px solid #ccc;
Â  font-size: 15px;
Â  flex: 1;
Â  min-width: 180px;
Â  outline: none; /* Ğ£Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ Ñ‡Ñ‘Ñ€Ğ½ÑƒÑ Ñ€Ğ°Ğ¼ĞºÑƒ */
Â  transition: all 0.2s ease;
}

/* ĞšĞ¾Ğ³Ğ´Ğ° Ñ„Ğ¾ĞºÑƒÑ (Ğ½Ğ°Ğ¶Ğ°Ñ‚Ğ¸Ğµ) Ğ½Ğ° input â€” Ğ·Ğ°Ğ´Ğ°Ñ‘Ğ¼ ÑĞ²Ğ¾Ğ¹ Ñ†Ğ²ĞµÑ‚ */
.header-search input[type="text"]:focus {
Â  border-color: #0BB3D9;Â  Â  Â  Â /* Ğ—ĞµĞ»Ñ‘Ğ½Ğ°Ñ Ñ€Ğ°Ğ¼ĞºĞ° */
Â  box-shadow: 0 0 0 2px rgba(39, 174, 96, 0.2); /* Ğ¢ĞµĞ½ÑŒ Ğ²Ğ¾ĞºÑ€ÑƒĞ³ */
Â  background-color: white;Â  Â  Â /* Ğ‘ĞµĞ»Ñ‹Ğ¹ Ñ„Ğ¾Ğ½, ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾ */
Â  color: black;Â  Â  Â  Â  Â  Â  Â  Â  /* Ğ¦Ğ²ĞµÑ‚ Ñ‚ĞµĞºÑÑ‚Ğ° */
}


Â  Â  .header-search button {
Â  Â  Â  padding: 8px 16px;
Â  Â  Â  background: rgb(204,238,255,0.6);
Â  Â  Â  color: #0BB3D9;
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  font-size: 15px;
Â  Â  Â  cursor: pointer;
Â  Â  Â  transition: 0.3s ease;
Â  Â  }

Â  Â  .header-search button:hover {
Â  Â  Â  text-decoration: line-through;
Â  Â  Â  background: rgb(204,238,255,0.8);
Â  Â  }

Â  Â  .winner-only-label {
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  background: rgb(204,238,255,0.6);
Â  Â  Â  color: #0BB3D9;
Â  Â  Â  padding: 8px 12px;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  font-size: 14px;
Â  Â  }

Â  Â  .winner-only-label:hover {
Â  Â  Â  text-decoration: line-through;
Â  Â  Â  background: rgb(204,238,255,0.8);
Â  Â  }

Â  Â  .winner-only-label input {
Â  Â  Â  margin-right: 5px;
Â  Â  Â  transform: scale(1.2);
Â  Â  }

Â  Â  .wallet-button {
Â  Â  Â  background: linear-gradient(135deg, #000000, #333333);
Â  Â  Â  background: rgb(000,00,000,0.9);
Â  Â  Â  color: white;
Â  Â  Â  padding: 10px 20px;
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  font-weight: bold;
Â  Â  Â  cursor: pointer;
Â  Â  Â  font-size: 15px;
Â  Â  Â  transition: text-decoration 0.2s ease;
Â  Â  Â  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
Â  Â  }

Â  Â  .wallet-button:hover {
Â  Â  Â  background: linear-gradient(135deg, #222222, #333333);
Â  Â  Â  text-decoration: line-through;
Â  Â  }

Â  Â  @media (max-width: 480px) {
Â  .header-search input[type="text"] {
Â  Â  font-size: 14px;
Â  Â  padding: 8px;
Â  }

Â  .ticket-number, .ticket-owner, .ticket-status {
Â  Â  font-size: 14px;
Â  }

Â  .ticket-info {
Â  Â  padding: 10px;
Â  }

Â  .ticket {
Â  Â  margin-bottom: 20px;
Â  }
}


Â  Â  /* ===== OTHER STYLES ===== */
Â  Â  .notification {
Â  Â  Â  text-align: center;
Â  Â  Â  padding: 12px 20px;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  margin: 10px auto;
Â  Â  Â  max-width: 400px;
Â  Â  Â  font-size: 16px;
Â  Â  }

Â  Â  .success { background: #27ae60; color: white; }
Â  Â  .error { background: #e74c3c; color: white; }

Â  Â  .ticket-grid {
Â  display: grid;
Â  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
Â  gap: 20px;
Â  padding: 20px;
Â  max-width: 1300px;
Â  margin: auto;
}

.ticket {
Â  background: white;
Â  border-radius: 12px;
Â  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
Â  overflow: hidden;
Â  transition: 0.3s ease;
Â  display: flex;
Â  flex-direction: column;
Â  max-width: 300px; /* â† Ğ”ĞĞ‘ĞĞ’Ğ¬ Ğ­Ğ¢Ğ */
Â  width: 100%;Â  Â  Â  Â /* â† Ğ˜ Ğ­Ğ¢Ğ */
Â  margin: 0 auto;
}


Â  Â  .ticket img {
Â  width: 100%;
Â  height: auto;
Â  max-height: 250px;
Â  object-fit: cover;
Â  display: block;
}

Â  Â  .ticket-info {
Â  Â  Â  padding: 15px;
Â  Â  }

Â  Â  .ticket-number { font-size: 18px; font-weight: bold; }
Â  Â  .ticket-owner, .ticket-winner, .ticket-prize, .ticket-status {
Â  Â  Â  margin-top: 8px;
Â  Â  Â  font-size: 15px;
Â  Â  Â  color: #555;
Â  Â  }

Â  Â  .winner {
Â  Â  Â  color: #FD0082;
Â  Â  Â  background: rgb(253,0,130, 0.1);
Â  Â  Â  padding: 5px 10px;
Â  Â  Â  border-radius: 6px;
Â  Â  Â  display: block;
Â  Â  Â  margin-top: 10px;
Â  Â  Â  font-weight: bold;
Â  Â  Â  text-align: center;
Â  Â  }

Â  Â  .happy-star {
Â  Â  Â  background: #d1e7ff;
Â  Â  Â  color: #004085;
Â  Â  Â  border-radius: 6px;
Â  Â  Â  padding: 5px 10px;
Â  Â  Â  margin-top: 10px;
Â  Â  Â  display: inline-block;
Â  Â  Â  font-weight: bold;
Â  Â  Â  display: block;
Â  Â  Â  text-align: center;
Â  Â  }

Â  Â  .ticket-prize {
Â  Â  Â  background: #fff3cd;
Â  Â  Â  border: 1px solid #ffeeba;
Â  Â  Â  border-radius: 6px;
Â  Â  Â  padding: 5px 10px;
Â  Â  Â  margin-top: 10px;
Â  Â  Â  color: #856404;
Â  Â  Â  display: block;
Â  Â  Â  text-align: center;
Â  Â  }

Â  Â  .ticket-status {
Â  Â  Â  margin-top: 12px;
Â  Â  Â  font-weight: bold;
Â  Â  }

Â  Â  .claim-form {
Â  Â  Â  margin-top: 12px;
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  gap: 8px;
Â  Â  }

Â  Â  .claim-form input {
Â  Â  Â  padding: 8px;
Â  Â  Â  font-size: 14px;
Â  Â  Â  width: 100%;
Â  Â  Â  border-radius: 6px;
Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  box-sizing: border-box;
Â  Â  }
Â  Â  .claim-form input:focus {
Â  border-color: #0BB3D9;Â  Â  Â  Â  Â  Â  Â  /* ĞºÑ€Ğ°ÑĞ¸Ğ²Ñ‹Ğ¹ Ğ³Ğ¾Ğ»ÑƒĞ±Ğ¾Ğ¹ */
Â  box-shadow: 0 0 6px rgba(11, 179, 217, 0.5);
Â  background-color: ;
Â  outline: none; /* Ğ£Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½ÑƒÑ Ñ€Ğ°Ğ¼ĞºÑƒ */
Â  transition: all 0.1s ease;
}


Â  Â  .claim-form button {
Â  Â  Â  background-color: #2980b9;
Â  Â  Â  color: white;
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 6px;
Â  Â  Â  padding: 8px;
Â  Â  Â  cursor: pointer;
Â  Â  }
Â  Â  .claim-form button:hover {
Â  Â  Â  text-decoration: line-through;
Â  Â  Â  background-color: rgba(253, 0, 130, 0.5); /* 50% Ñ€Ğ¾Ğ·Ğ¾Ğ²Ñ‹Ğ¹ */
Â  Â  }

Â  Â  .contact-options {
Â  Â  Â  display: none;
Â  Â  Â  margin-top: 10px;
Â  Â  }

Â  Â  .contact-options a {
Â  Â  Â  display: inline-block;
Â  Â  Â  margin: 5px;
Â  Â  Â  padding: 8px 12px;
Â  Â  Â  background: #3498db;
Â  Â  Â  color: white;
Â  Â  Â  border-radius: 6px;
Â  Â  Â  text-decoration: none;
Â  Â  }

Â  Â  .promo-banner {
Â  background: black;
Â  color: white;
Â  padding: 40px 20px;
Â  border-radius: 20px;
Â  max-width: 1260px;
Â  margin: 30px auto;
}

.promo-content {
Â  display: flex;
Â  justify-content: space-between;
Â  align-items: center;
Â  gap: 30px;
Â  flex-wrap: wrap;
}

.promo-content h2 {
Â  color: #ff00cc;
Â  margin: 0 0 10px;
Â  font-size: 22px;
}

.promo-content p {
Â  font-size: 15px;
Â  line-height: 1.5;
Â  color: #ccc;
}

.promo-content img {
Â  max-width: 150px;
Â  border-radius: 12px;
}
.winner-highlight {
Â  border: 2px solid gold;
Â  box-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
}
</style>

<style>
@media (max-width: 480px) {
Â  .ticket-grid {
Â  Â  padding: 10px;
Â  Â  gap: 10px;
Â  }

Â  .promo-banner {
Â  Â  padding: 20px 25px;
Â  }

Â  .header-container {
Â  Â  flex-direction: column;
Â  Â  align-items: flex-start;
Â  }

Â  .header-search {
Â  Â  flex-direction: column;
Â  Â  width: 100%;
Â  Â  align-items: stretch;
Â  }

Â  .header-search input,
Â  .header-search button {
Â  Â  width: 100%;
Â  }

Â  .header-right {
Â  Â  flex-direction: column;
Â  Â  align-items: stretch;
Â  Â  width: 100%;
Â  }

Â  .new-tickets-button,
Â  .wallet-button {
Â  Â  width: 100%;
Â  Â  font-size: 14px;
Â  Â  padding: 8px 14px;
Â  }

Â  button, a {
Â  -webkit-tap-highlight-color: transparent; /* Ğ¾Ñ‚ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ ÑĞ¸Ğ½Ğ¸Ğ¹ Ñ„Ğ¾Ğ½ */
}

button:focus, a:focus {
Â  outline: none;
}


Â  .header-tag {
Â  Â  font-size: 12px;
Â  Â  padding: 4px 10px;
Â  }

Â  .ticket-number {
Â  Â  font-size: 16px;
Â  }

Â  .claim-form input,
Â  .claim-form button {
Â  Â  font-size: 14px;
Â  }
}
@media (max-width: 480px) {
Â  .header-container {
Â  Â  flex-direction: column;
Â  Â  align-items: stretch;
Â  Â  width: 100%;
Â  }

Â  .header-search {
Â  Â  flex-direction: column;
Â  Â  gap: 10px;
Â  Â  width: 100%;
Â  Â  align-items: stretch;
Â  }

Â  .winner-only-label {
Â  display: flex;
Â  align-items: center;
Â  justify-content: center;
Â  gap: 8px;
Â  background-color: #3498db;
Â  color: white;
Â  padding: 8px 12px;
Â  border-radius: 10px;
Â  font-size: 14px;
Â  width: 100%;
Â  box-sizing: border-box;
Â  white-space: nowrap;
Â  font-weight: bold;
}

.winner-only-label input[type="checkbox"] {
Â  transform: scale(1);
Â  margin: 0;
Â  padding: 0;
}


Â  .header-right {
Â  Â  flex-direction: column;
Â  Â  align-items: stretch;
Â  Â  width: 100%;
Â  Â  gap: 10px;
Â  }

Â  .new-tickets-button,
Â  .wallet-button {
Â  Â  width: 100%;
Â  Â  font-size: 15px;
Â  Â  padding: 10px 16px;
Â  }
}
@media (max-width: 480px) {
Â  .ticket-grid {
Â  Â  justify-content: center;
Â  Â  padding: 10px;
Â  Â  gap: 15px;
Â  }

Â  .ticket {
Â  Â  margin: 0 auto;Â  /* â† ĞĞ Ğ’Ğ¡Ğ¯ĞšĞ˜Ğ™ Ğ¡Ğ›Ğ£Ğ§ĞĞ™ */
Â  }
}


</style>

</head>

Â  </style>
</head>
<style>
Â  .new-tickets-button {
Â  display: flex;
Â  align-items: center;
Â  justify-content: center;
Â  gap: 8px;
Â  padding: 9px 15px;
Â  width: 100%;
Â  font-size: 14px;
Â  color: #FD0082;
Â  background: rgb(253,0,130,0.1);
Â  border: none;
Â  border-radius: 12px;
Â  cursor: pointer;
Â  text-align: center;
Â  white-space: nowrap;
}
.new-tickets-button:hover {
Â  text-decoration: line-through;
Â  background: rgb(253,0,130,0.2);
}Â 

#ticket-count-box {
Â  background: white;
Â  color: #ff4b2b;
Â  font-weight: bold;
Â  padding: 2px 8px;
Â  border-radius: 8px;
}

Â  @media (max-width: 480px) {
Â  .header-search input[type="text"] {
Â  Â  width: 100%;
Â  Â  max-width: 100%;
Â  Â  font-size: 14px;
Â  Â  padding: 10px;
Â  Â  box-sizing: border-box;
Â  }

Â  .winner-only-label {
Â  Â  display: flex;
Â  Â  justify-content: center;
Â  Â  align-items: center;
Â  Â  gap: 6px;
Â  Â  width: 100%;
Â  Â  padding: 10px;
Â  Â  font-size: 14px;
Â  Â  box-sizing: border-box;
Â  Â  white-space: nowrap;
Â  }

Â  .winner-only-label input[type="checkbox"] {
Â  Â  margin: 0;
Â  Â  transform: scale(1.2);
Â  }

Â  .header-search {
Â  Â  width: 100%;
Â  Â  gap: 8px;
Â  }
}
@media (max-width: 480px) {
Â  .winner-only-label {
Â  Â  display: flex;
Â  Â  align-items: center;
Â  Â  justify-content: center;
Â  Â  gap: 6px;
Â  Â  padding: 10px 12px;
Â  Â  background: #3498db;
Â  Â  border-radius: 10px;
Â  Â  color: white;
Â  Â  font-size: 14px;
Â  Â  font-weight: bold;
Â  Â  width: 100%;
Â  Â  box-sizing: border-box;
Â  Â  white-space: nowrap;
Â  }

Â  .winner-only-label input[type="checkbox"] {
Â  Â  appearance: none;
Â  Â  width: 18px;
Â  Â  height: 18px;
Â  Â  border: 2px solid white;
Â  Â  border-radius: 4px;
Â  Â  position: relative;
Â  Â  margin: 0;
Â  }

Â  .winner-only-label input[type="checkbox"]:checked::before {
Â  Â  content: "âœ”";
Â  Â  position: absolute;
Â  Â  left: 2px;
Â  Â  top: -2px;
Â  Â  font-size: 14px;
Â  Â  color: white;
Â  }
}
.main-winner-highlight {
Â  border: 3px solid #FABA0A;
Â  box-shadow: 0 0 18px rgba(250, 186, 10, 0.9);
Â  background: linear-gradient(170deg, #FABA0A, #ffe6f7);
}
.main-winner-highlight:hover {
Â Â 
Â  box-shadow: 0 0 18px rgba(274, 0, 215, 0.5);
Â Â 
}

</style>
<style>
@keyframes shake {
Â  0% { transform: translateX(0); }
Â  20% { transform: translateX(-6px); }
Â  40% { transform: translateX(6px); }
Â  60% { transform: translateX(-4px); }
Â  80% { transform: translateX(4px); }
Â  100% { transform: translateX(0); }
}

input.shake {
Â  animation: shake 0.3s;
Â  border: 2px solid #e74c3c !important;
Â  background-color: #ffeaea !important;
Â  color: #000;
}
.interactive-title {
Â  text-decoration: none;
Â  color: inherit;
}

.interactive-title:active strong {
Â  text-decoration: line-through;
}

.interactive-title:hover {
Â  text-decoration: line-through;
}
</style>

<style>
.wallet-button2 {
Â  display: inline-block;
Â  margin-left: 6px;
Â  padding: 5px 10px;
Â  background-color: #444;
Â  color: white;
Â  border-radius: 6px;
Â  text-decoration: none;
Â  font-size: 13px;
Â  transition: background 0.3s ease;
}
.wallet-button2:hover {
Â  background-color: #666;
}

</style>

<style>
.icon-button {
Â  display: inline-flex;
Â  align-items: center;
Â  padding: 6px 12px;
Â  background-color: #f5f5f5;
Â  border-radius: 8px;
Â  text-decoration: none;
Â  color: #000;
Â  font-weight: 500;
Â  transition: background 0.3s;
}
.icon-button:hover {
Â  background-color: #e0e0e0;
}
</style>



<body>

<header class="custom-header">
Â  <div class="header-container">
Â  Â  <div class="header-left">
Â  Â  Â  <img src="/static/images/baylot-main-logo.png" alt="Logo" style="height: 50px; border-radius: 12px;">
Â  Â  Â  <a href="http://www.metabase.info" class="header-title interactive-title">
Â  <strong>Metabase</strong>
Â  <small>Alltickets</small>
</a>
Â  Â  Â  <div class="header-tag" id="ticket-count-display">0 tickets</div>
Â  Â  </div>

Â  Â  <form method="get" action="/tickets/all/html" class="header-search" id="searchForm">
Â  <input type="text" name="number" id="ticketInput" placeholder="Search ticket number...">
Â  <label class="winner-only-label">
Â  Â  <input type="checkbox" name="winners_only" value="true">
Â  Â  ğŸ† Winners only
Â  </label>
Â  <button type="submit">ğŸ” Find</button>
</form>

<div class="header-right">Â 
Â  Â  Â  <!-- ï¿½ ĞšĞĞĞŸĞšĞ Ğ¡ Ğ£Ğ’Ğ•Ğ”ĞĞœĞ›Ğ•ĞĞ˜Ğ•Ğœ -->
<button id="newTicketsBtn" class="new-tickets-button" onclick="location.reload()">
Â  <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#9B5278"><path d="M480-192q-120 0-205.5-85T192-486l-57 57-51-51 144-144 144 144-51 51-57-57q-2 94 62 158t154 64q22 0 42-4t39-12l53 53q-30 16-63.5 25.5T480-192Zm252-144L588-480l51-51 57 57q2-94-62-158t-154-64q-21 0-41.5 4T399-680l-53-53q30-16 64-25.5t70-9.5q121 0 206 85t82 209l57-57 51 51-144 144Z"/></svg>New Tickets <span id="ticket-count-box">(0)</span>
</button>
Â  Â  Â  <button class="wallet-button">Baylot</button>
Â  Â  </div>
Â  </div>
</header>

<div class="promo-banner">
Â  <div class="promo-content">
Â  Â  <div>
Â  Â  Â  <h2>ğŸ® Baylot - this is the first real crypto game... (coming on)</h2>
Â  Â  Â  <p>Informasion is not available yet</p>
Â  Â  </div>
Â  Â  <img src="/static/images/BMW M8-Competition-F92 from baylot 1.jpg" alt="Logo" style="height: 80px;">
Â  </div>
</div>

<div class="ticket-grid" id="tickets-container">
    <div class="notification success" id="initial-message">
        Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ²...
    </div>
</div>

<script>
function checkID(ticketId) {
Â  const input = document.getElementById(`input-${ticketId}`);
Â  const value = input.value.trim();
Â  if (value === ticketId) {
Â  Â  document.getElementById(`contacts-${ticketId}`).style.display = 'block';
Â  Â  document.getElementById(`instruction-${ticketId}`).style.display = 'block';
Â  } else {
Â  Â  alert("âŒ Invalid ticket ID. Please enter your ticket ID.");
Â  }
}


// Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ñ„Ğ¾Ñ€Ğ¼Ñ‹ Ğ¿Ğ¾Ğ¸ÑĞºĞ°
document.addEventListener("DOMContentLoaded", () => {
Â  document.getElementById("searchForm").addEventListener("submit", function(e) {
Â  Â  const input = document.getElementById("ticketInput");
Â  Â  const winnersOnly = this.querySelector('input[name="winners_only"]');

Â  Â  if (!input.value.trim() && !(winnersOnly && winnersOnly.checked)) {
Â  Â  Â  e.preventDefault();

Â  Â  Â  const originalPlaceholder = input.placeholder;
Â  Â  Â  input.classList.add("shake");
Â  Â  Â  input.placeholder = "Enter the ticket number...";

Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  input.classList.remove("shake");
Â  Â  Â  Â  input.placeholder = originalPlaceholder;
Â  Â  Â  }, 2000);
Â  Â  }
Â  });
});
</script>


<!-- âœ… Ğ’Ğ¡ĞŸĞ›Ğ«Ğ’ĞĞ®Ğ©Ğ•Ğ• Ğ£Ğ’Ğ•Ğ”ĞĞœĞ›Ğ•ĞĞ˜Ğ• -->
<audio id="notify-sound" src="/static/sounds/thanos-snap-sound-effect.mp3" preload="auto"></audio>


<script>
// --- ĞĞĞ’Ğ«Ğ™ Ğ‘Ğ›ĞĞš ĞšĞĞ”Ğ Ğ”Ğ›Ğ¯ Ğ”Ğ˜ĞĞĞœĞ˜Ğ§Ğ•Ğ¡ĞšĞĞ“Ğ ĞĞ¢ĞĞ‘Ğ ĞĞ–Ğ•ĞĞ˜Ğ¯ Ğ‘Ğ˜Ğ›Ğ•Ğ¢ĞĞ’ ---

const ticketsContainer = document.getElementById('tickets-container');
const ticketCountDisplay = document.getElementById('ticket-count-display');
const newTicketsBtn = document.getElementById('newTicketsBtn');
const newTicketCountBox = document.getElementById('ticket-count-box');
const initialMessage = document.getElementById('initial-message');

// Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ HTML-ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ğ±Ğ¸Ğ»ĞµÑ‚Ğ°
function createTicketCard(ticket) {
    const card = document.createElement('div');
    card.className = `ticket ${ticket.is_winner ? 'winner-highlight' : ''}`;

    const socialLinkHtml = ticket.social_link
        ? `<a href="${ticket.social_link}" target="_blank" class="icon-button" title="Open Social">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 6px;">
                <path d="M6.94 3h3.44l3.62 5.17L18.98 3H21l-5.6 7.56L21.62 21h-3.44l-3.98-5.69L9.06 21H7.02l5.88-7.94L6.94 3Zm3.04 1.5H8.76l8.4 12h1.22l-8.4-12Z"/>
            </svg>
            Page
          </a>`
        : 'Ğ½Ğµ ÑƒĞºĞ°Ğ·Ğ°Ğ½';
    
    const walletAddressHtml = ticket.wallet_address
        ? `<a href="https://solscan.io/account/${ticket.wallet_address}" target="_blank" class="icon-button">
            ${ticket.wallet_address.slice(0, 4)}...${ticket.wallet_address.slice(-4)}
          </a>`
        : 'Ğ½Ğµ ÑƒĞºĞ°Ğ·Ğ°Ğ½';

    const winnerInfoHtml = ticket.is_winner
        ? `
        <div class="happy-star">ğŸŒŸ Happy Start</div>
        <div class="ticket-winner winner">ğŸ† Winner</div>
        ${ticket.prize_description ? `<div class="ticket-prize">ğŸ ${ticket.prize_description}</div>` : ''}
        <div class="claim-form">
          <input type="text" placeholder="Enter the ticket ID" id="input-${ticket.id}">
          <button type="button" onclick="checkID('${ticket.id}')">Claim Prize</button>
          <div class="claim-instruction" id="instruction-${ticket.id}" style="display:none; margin-top: 10px;">
            ğŸ“ <strong>Contact us to receive the prize:</strong>
          </div>
          <div class="contact-options" id="contacts-${ticket.id}" style="display:none;">
            <a href="https://t.me/BabaySupport" target="_blank">Telegram</a>
            <a href="https://wa.me/1234567890" target="_blank">WhatsApp</a>
            <a href="mailto:support@babay.io">Email</a>
          </div>
        </div>
        `
        : '';
        
    const getCountryFlag = (countryCode) => {
        const flagMap = {
            'RU': 'ğŸ‡·ğŸ‡º', 'US': 'ğŸ‡ºğŸ‡¸', 'GB': 'ğŸ‡¬ğŸ‡§', /* Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ ĞºĞ¾Ğ´Ñ‹ ÑÑ‚Ñ€Ğ°Ğ½ */
            'UA': 'ğŸ‡ºğŸ‡¦', 'KZ': 'ğŸ‡°ğŸ‡¿', 'BY': 'ğŸ‡§ğŸ‡¾', 'UZ': 'ğŸ‡ºğŸ‡¿', 'KG': 'ğŸ‡°ğŸ‡¬', 'TM': 'ğŸ‡¹ğŸ‡²', 'TJ': 'ğŸ‡¹ğŸ‡¯'
        };
        return flagMap[countryCode.toUpperCase()] || '';
    };

    const countryInfoHtml = ticket.country_code 
        ? `<p>ğŸŒ Country: ${getCountryFlag(ticket.country_code)} ${ticket.country_code}</p>` 
        : '<p>ğŸŒ Country: Unknown</p>';

    card.innerHTML = `
        <img src="${ticket.image_url || '/static/images/placeholder.jpg'}" alt="Ğ‘Ğ¸Ğ»ĞµÑ‚ ${ticket.ticket_number}">
        <div class="ticket-info">
            <div class="ticket-number">ğŸŸ Number: ${ticket.ticket_number}</div>
            <div class="ticket-owner">ğŸ‘¤ Owner: ${ticket.holder_info || 'Ğ½Ğµ ÑƒĞºĞ°Ğ·Ğ°Ğ½'}</div>
            <div class="ticket-owner">
                <span style="margin-right: 5px;">ğŸ”— Social:</span>
                ${socialLinkHtml}
            </div>
            <div class="ticket-owner">
                <span style="margin-right: 5px;">ğŸ’³ Wallet:</span>
                ${walletAddressHtml}
            </div>
            ${countryInfoHtml}
            ${winnerInfoHtml}
            <div class="ticket-status">
                ${ticket.is_winner ? 'ğŸ”´ Winner ticket' : 'ğŸŸ¢ Active'}
            </div>
        </div>
    `;
    return card;
}

// ĞÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ¸ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ²
async function fetchAndRenderTickets() {
    try {
        if (initialMessage) {
            initialMessage.style.display = 'block';
            initialMessage.textContent = 'Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ²...';
        }
        
        const response = await fetch('/api/tickets');
        if (!response.ok) {
            throw new Error('Failed to fetch tickets');
        }
        const tickets = await response.json();
        
        if (initialMessage) {
            initialMessage.style.display = 'none';
        }
        
        // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ ÑÑ‡ĞµÑ‚Ñ‡Ğ¸Ğº Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ² Ğ² ÑˆĞ°Ğ¿ĞºĞµ
        ticketCountDisplay.textContent = `${tickets.length} tickets`;
        
        // ĞÑ‡Ğ¸Ñ‰Ğ°ĞµĞ¼ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ğ¿ĞµÑ€ĞµĞ´ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ½Ğ¾Ğ²Ñ‹Ñ… Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ²
        ticketsContainer.innerHTML = '';

        if (tickets.length > 0) {
            tickets.forEach(ticket => {
                const card = createTicketCard(ticket);
                ticketsContainer.appendChild(card);
            });
        } else {
            ticketsContainer.innerHTML = '<div class="notification success" style="margin: 20px;">ĞĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚ Ğ½ĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ².</div>';
        }
    } catch (error) {
        console.error('Error fetching tickets:', error);
        if (initialMessage) {
            initialMessage.textContent = 'âŒ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ². ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ¿Ğ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ¿Ğ¾Ğ·Ğ¶Ğµ.';
            initialMessage.style.display = 'block';
        } else {
            ticketsContainer.innerHTML = '<div class="notification error" style="margin: 20px;">âŒ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ². ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ¿Ğ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ¿Ğ¾Ğ·Ğ¶Ğµ.</div>';
        }
        ticketCountDisplay.textContent = '0 tickets';
    }
}

// Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµĞ¼ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ² Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
window.addEventListener('load', fetchAndRenderTickets);

// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑÑ‡ĞµÑ‚Ñ‡Ğ¸ĞºĞ° Ğ½Ğ¾Ğ²Ñ‹Ñ… Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ² (Ğ²Ğ°Ñˆ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞ¾Ğ´)
let lastTicketCount = 0;
let pendingNewTickets = 0;
let soundPlayedFor = lastTicketCount;
let userInteracted = false;

const winnersOnly = false; // Ğ£Ğ¿Ñ€Ğ¾Ñ‰ĞµĞ½Ğ¾, Ñ‚Ğ°Ğº ĞºĞ°Ğº Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ‚ĞµĞ¿ĞµÑ€ÑŒ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ğ½Ğ° ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
const isSearch = false; // Ğ£Ğ¿Ñ€Ğ¾Ñ‰ĞµĞ½Ğ¾

setInterval(() => {
Â  fetch('/api/tickets/count')
Â  Â  .then(res => res.json())
Â  Â  .then(data => {
Â  Â  Â  const currentCount = data.count;
Â  Â  Â  const showUpdates = !winnersOnly && !isSearch;

Â  Â  Â  if (currentCount > lastTicketCount && showUpdates) {
Â  Â  Â  Â  const newTickets = currentCount - lastTicketCount;
Â  Â  Â  Â  pendingNewTickets = newTickets;

Â  Â  Â  Â  newTicketCountBox.innerText = `(${pendingNewTickets})`;
Â  Â  Â  Â  newTicketsBtn.style.display = 'block';

Â  Â  Â  Â  if (soundPlayedFor !== currentCount && userInteracted) {
Â  Â  Â  Â  Â  const sound = document.getElementById('notify-sound');
Â  Â  Â  Â  Â  if (sound) {
Â  Â  Â  Â  Â  Â  sound.pause();
Â  Â  Â  Â  Â  Â  sound.currentTime = 0;
Â  Â  Â  Â  Â  Â  sound.play().catch(() => {});
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  soundPlayedFor = currentCount;
Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  });
}, 10000);

newTicketsBtn.addEventListener('click', () => {
Â  lastTicketCount += pendingNewTickets;
Â  pendingNewTickets = 0;
Â  newTicketCountBox.innerText = `(0)`;
Â  fetchAndRenderTickets(); // <-- Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½ Ğ²Ñ‹Ğ·Ğ¾Ğ² Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ²
});
</script>


<script>
document.addEventListener('DOMContentLoaded', () => {
Â  const enableSound = () => {
Â  Â  const audio = document.getElementById('notify-sound');
Â  Â  if (audio) {
Â  Â  Â  audio.play().catch(() => {});
Â  Â  Â  audio.pause();
Â  Â  Â  audio.currentTime = 0;
Â  Â  }
Â  Â  userInteracted = true;

Â  Â  document.removeEventListener('click', enableSound);
Â  Â  document.removeEventListener('scroll', enableSound);
Â  Â  document.removeEventListener('keydown', enableSound);
Â  };

Â  document.addEventListener('click', enableSound);
Â  document.addEventListener('scroll', enableSound);
Â  document.addEventListener('keydown', enableSound);
});
</script>


</body>
</html>
ï¿½